tosca_definitions_version: cloudify_dsl_1_3


imports:
  - https://cloudify.co/spec/cloudify/5.1.0/types.yaml
  - CLUSTER_A--application.yaml
  - CLUSTER_B--application.yaml
  - CERTIFICATE--certificate.yaml
  - LOAD_BALANCER--load-balancer.yaml
  - relationships.yaml

capabilities:

  app_url:
    value: { get_input: LOAD_BALANCER--domain_name }

  ssl_certificate:
    description: SSL certificate in base64 format
    value: { get_attribute: [CERTIFICATE--cert_generation, cert_base64] }

  ssl_key:
    description: SSL key in base64 format
    value: { get_attribute: [CERTIFICATE--cert_generation, key_base64] }
